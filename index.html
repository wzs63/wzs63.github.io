<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="hello">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="hello">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hello">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>hello</title>
  








<!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129305475-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129305475-1');
</script>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>
  
    <a href="https://github.com/wzs63"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">hello</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-search">
          <a href="/search" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            搜索
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      
        
        <li class="menu-item menu-item-something">
          <a href="/something" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            啦啦啦
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/26/JDBC/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wzs63">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/image/01.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/26/JDBC/" itemprop="url">JDBC总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-26T18:22:43+08:00">
                2018-11-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>java对关系数据库的支持是通过JDBC(Java DateBase Connectivity)API来提供的。</p>
<p>2018.12.14修改：<br>SqlServer连接时：<br>“jdbc:sqlserver://localhost:1433;DatabaseName=数据库名,<br>与MySQL连接不同（不仅仅是端口号）。</p>
<h1 id="JDBC的使用分为以下几个步骤："><a href="#JDBC的使用分为以下几个步骤：" class="headerlink" title="JDBC的使用分为以下几个步骤："></a>JDBC的使用分为以下几个步骤：</h1><h2 id="一、初始化驱动"><a href="#一、初始化驱动" class="headerlink" title="一、初始化驱动"></a>一、初始化驱动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">		//以连接mysql为例</span><br><span class="line">           Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">           //若要连接SqlServer，对应初始化驱动类为&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; </span><br><span class="line">		//若是Oracle数据库，则为&quot;oracle.jdbc.driver.OracleDriver&quot;</span><br><span class="line">           //数据库驱动加载成功 </span><br><span class="line">  </span><br><span class="line">       &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">           // TODO Auto-generated catch block</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>初始化驱动类com.mysql.jdbc.Driver在相关包中,若未引入包，Class.forName(“com.mysql.jdbc.Driver”)会抛出ClassNotFoundException异常。</p>
<h2 id="二、建立数据库连接"><a href="#二、建立数据库连接" class="headerlink" title="二、建立数据库连接"></a>二、建立数据库连接</h2><p>连接需要提供以下信息：<br>DBMS服务器所运行的机器的<strong>主机名</strong>:127.0.0.1或者localhost (本机)，<br>数据库的<strong>端口号</strong>，用来侦听进入的连接： 3306 （mysql专用端口号）或者1433（SqlServer专用端口号）,或者1521（Oracle专用端口号），<br>希望连接的<strong>数据库名称</strong>，<br><strong>编码方式</strong>，如UTF-8（可选），<br><strong>账号 </strong>，<br><strong>密码 </strong>。</p>
<p>JDBC中的数据库连接是通过Connection类的实例来表示的，这个类的实例由DriverManager类的静态方法getConnection()返回。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">          Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line"></span><br><span class="line">          // 建立与数据库的Connection连接</span><br><span class="line">          Connection c = DriverManager.getConnection(</span><br><span class="line">                          &quot;jdbc:mysql://127.0.0.1:3306/数据库名称?characterEncoding=UTF-8&quot;,</span><br><span class="line">                          &quot;账号&quot;, &quot;密码&quot;);</span><br><span class="line">          //连接成功，c为获取连接对象</span><br><span class="line"></span><br><span class="line">      &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">          // TODO Auto-generated catch block</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125; catch (SQLException e) &#123;</span><br><span class="line">          // TODO Auto-generated catch block</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="三、创建Statement实例"><a href="#三、创建Statement实例" class="headerlink" title="三、创建Statement实例"></a>三、创建Statement实例</h2><p>Statement是用于执行SQL命令的接口。<br>创建一个Statement或其子接口之一（PreparedStatement接口或者CallablesStatement接口）的实例。<br>可以通过调用Connection的createStatement()方法来创建Statement的实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">           Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line"> </span><br><span class="line">           Connection c = DriverManager .getConnection(&quot;jdbc:mysql://127.0.0.1:3306/数据库名称?characterEncoding=UTF-8&quot;,  &quot;用户名&quot;, &quot;密码&quot;);</span><br><span class="line"> </span><br><span class="line">           // 注意：使用的是 java.sql.Statement， 不要不小心使用到： com.mysql.jdbc.Statement</span><br><span class="line">          </span><br><span class="line">		Statement s = c.createStatement();</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">       &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">           // TODO Auto-generated catch block</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125; catch (SQLException e) &#123;</span><br><span class="line">           // TODO Auto-generated catch block</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="四、利用Statement实例执行SQL命令"><a href="#四、利用Statement实例执行SQL命令" class="headerlink" title="四、利用Statement实例执行SQL命令"></a>四、利用Statement实例执行SQL命令</h2><h3 id="Statement实例执行方法："><a href="#Statement实例执行方法：" class="headerlink" title="Statement实例执行方法："></a>Statement实例执行方法：</h3><h4 id="executeUpdata-方法"><a href="#executeUpdata-方法" class="headerlink" title="executeUpdata()方法"></a>executeUpdata()方法</h4><p>int executeUpdate(String sql)<br>执行给定的SQL语句，这可能是 <strong>INSERT ， UPDATE ，或 DELETE语句</strong>，或者不返回任何内容，如SQL DDL语句的SQL语句。<br>返回类型为int，表示所更改的行数。</p>
<h4 id="executeQuery-方法"><a href="#executeQuery-方法" class="headerlink" title="executeQuery()方法"></a>executeQuery()方法</h4><p>ResultSet executeQuery(String sql)<br>当希望执行查询时（<strong>SELECT语句</strong>）可使用executeQuery()方法。<br>执行给定的SQL语句，该语句返回单个 ResultSet对象，用来处理查询的结果。 </p>
<h4 id="execute-方法"><a href="#execute-方法" class="headerlink" title="execute()方法"></a>execute()方法</h4><p>boolean execute(String sql)<br>此方法可能会返回多个更新数或者ResultSet实例。<br>如果第一个返回值是ResultSet则返回true<br>如果第一个返回值是int则发布会false<br>可以使用方法getResultSet或getUpdateCount检索结果，然后getMoreResults移动到任何后续结果。（getUpdateCount返回值为-1就会到达结果队列的尾部）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">  </span><br><span class="line">            Connection c = DriverManager .getConnection(&quot;jdbc:mysql://127.0.0.1:3306/数据库名称?characterEncoding=UTF-8&quot;,&quot;用户名&quot;, &quot;密码&quot;);</span><br><span class="line">  </span><br><span class="line">            Statement s = c.createStatement();</span><br><span class="line">  </span><br><span class="line">            // 注意： 字符串要用单引号&apos;</span><br><span class="line">            String sql = &quot;insert into tableName values(&apos;value&apos;)&quot;;</span><br><span class="line">            s.execute(sql);</span><br><span class="line"></span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            // TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            // TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ResultSet介绍"><a href="#ResultSet介绍" class="headerlink" title="ResultSet介绍"></a>ResultSet介绍</h3><h4 id="1-光标定位"><a href="#1-光标定位" class="headerlink" title="1.光标定位"></a>1.光标定位</h4><h5 id="boolean-next-throws-SQLException"><a href="#boolean-next-throws-SQLException" class="headerlink" title="boolean next() throws SQLException"></a>boolean next() throws SQLException</h5><p>将光标从当前位置向前移动一行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ResultSet rs = s.executeQuery(SELECT * FROM TABLE1);</span><br><span class="line">while(rs.next())&#123;</span><br><span class="line">	//do something...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>光标最初位于第一行之前; 第一次调用方法next使第一行成为当前行; 第二个调用使第二行成为当前行，依此类推。<br>当返回false时，光标位于最后一行之后。 </p>
<h5 id="boolean-relative-int-rows-throws-SQLException"><a href="#boolean-relative-int-rows-throws-SQLException" class="headerlink" title="boolean relative(int rows) throws SQLException"></a>boolean relative(int rows) throws SQLException</h5><p>将光标移动到正或负的相对行数。<br>调用relative(0)是有效的，但不会更改光标位置。</p>
<h4 id="2-数据检索"><a href="#2-数据检索" class="headerlink" title="2.数据检索"></a>2.数据检索</h4><h5 id="getXXX-，例如String-getString-int-columnIndex-throws-SQLException"><a href="#getXXX-，例如String-getString-int-columnIndex-throws-SQLException" class="headerlink" title="getXXX()，例如String getString(int columnIndex) throws SQLException"></a>getXXX()，例如String getString(int columnIndex) throws SQLException</h5><p>这个检索的当前行中指定列的值，<strong>索引从1开始</strong>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//从第二列检索String值</span><br><span class="line">columnValue = rs.getString(2);</span><br></pre></td></tr></table></figure></p>
<h5 id="根据属性名检索，例如String-getString-String-columnLabel-throws-SQLException"><a href="#根据属性名检索，例如String-getString-String-columnLabel-throws-SQLException" class="headerlink" title="根据属性名检索，例如String getString(String columnLabel) throws SQLException"></a>根据属性名检索，例如String getString(String columnLabel) throws SQLException</h5><h4 id="3-数值修改"><a href="#3-数值修改" class="headerlink" title="3.数值修改"></a>3.数值修改</h4><p>updateXXX(),insertXXX(),deleteXXX()</p>
<h3 id="PreparedStatement介绍"><a href="#PreparedStatement介绍" class="headerlink" title="PreparedStatement介绍"></a>PreparedStatement介绍</h3><p>PreparedStatement是Statement类的一个子类<br>有时候需要执行的SQL语句相似，仅仅是通过某个参数而区分。<br>那么编译每一个SQL语句会使得性能变差。</p>
<p>PreparedStatement可以使得这样的SQL语句<strong>只编译一次</strong>（预编译机制），执行多次，使用可改变的参数来修改执行的SQL语句，<br>使得<strong>性能更好</strong>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String sql = &quot;insert into table1 values(?,?)&quot;;</span><br><span class="line">PreparedStatement ps = c.prepareStatement(sql);</span><br><span class="line">ps.setString(1, &quot;value&quot;);//设置参数从一开始</span><br><span class="line">ps.setInt(2, 123);</span><br><span class="line">ps.execute();</span><br></pre></td></tr></table></figure></p>
<h5 id="注意：PreparedStatement设置参数时，从1开始。"><a href="#注意：PreparedStatement设置参数时，从1开始。" class="headerlink" title="注意：PreparedStatement设置参数时，从1开始。"></a>注意：PreparedStatement设置参数时，从1开始。</h5><p>另外，PreparedStatement不需要字符串拼接，而是<strong>参数设置</strong>，所以还有<strong>防止SQL注入式攻击</strong>功能。</p>
<h2 id="五、最后关闭连接，释放资源"><a href="#五、最后关闭连接，释放资源" class="headerlink" title="五、最后关闭连接，释放资源"></a>五、最后关闭连接，释放资源</h2><p>先关闭Statement<br>后关闭Connection<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">finally &#123;</span><br><span class="line">            if (s != null)</span><br><span class="line">                try &#123;</span><br><span class="line">                    s.close();</span><br><span class="line">                &#125; catch (SQLException e) &#123;</span><br><span class="line">                    // TODO Auto-generated catch block</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            if (c != null)</span><br><span class="line">                try &#123;</span><br><span class="line">                    c.close();</span><br><span class="line">                &#125; catch (SQLException e) &#123;</span><br><span class="line">                    // TODO Auto-generated catch block</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"> </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><p>在事务中的多个操作，要么都成功，要么都失败<br>通过 c.setAutoCommit(false);关闭自动提交<br>使用 c.commit();进行手动提交<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">c.setAutoCommit(false);</span><br><span class="line">//提交前发生了错误，则rollback</span><br><span class="line">String sql1 = &quot;update...&quot;;</span><br><span class="line">s.execute(sql1);</span><br><span class="line">String sql2 = &quot;updata...&quot;;</span><br><span class="line">s.execute(sql2);</span><br><span class="line">// 手动提交</span><br><span class="line">c.commit();</span><br></pre></td></tr></table></figure></p>
<p>参考书籍：Java高级编程（第二版）。<br>参考网站：how2j</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/15/sjycl2/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wzs63">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/image/01.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/15/sjycl2/" itemprop="url">数据统计每一天/每一周发邮件的数量，并用可视化软件实现可视化。</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-15T20:50:26+08:00">
                2018-11-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据处理/" itemprop="url" rel="index">
                    <span itemprop="name">数据处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>下载对公众开放的安然(Enron)公司的电子邮件数据集。<br>下载地址：<br>      <a href="http://www.ahschulz.de/enron-email-data/；" target="_blank" rel="noopener">http://www.ahschulz.de/enron-email-data/；</a> </p>
<h4 id="将数据导入数据库（message表含有date字段表示发送邮件时间。Mid表示编号），根据date进行分组，统计每一组的mid的数量（即这一天邮箱数量）。"><a href="#将数据导入数据库（message表含有date字段表示发送邮件时间。Mid表示编号），根据date进行分组，统计每一组的mid的数量（即这一天邮箱数量）。" class="headerlink" title="将数据导入数据库（message表含有date字段表示发送邮件时间。Mid表示编号），根据date进行分组，统计每一组的mid的数量（即这一天邮箱数量）。"></a>将数据导入数据库（message表含有date字段表示发送邮件时间。Mid表示编号），根据date进行分组，统计每一组的mid的数量（即这一天邮箱数量）。</h4><p>执行以下SQL语句，将每天/每周（换为weekofyear即可）数据导入Excel（因为之后利用plot.ly进行数据可视化时感觉CSV格式更方便些）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select date,count(mid) from message group by dayofyear(date) </span><br><span class="line">                                into outfile &quot;F:\day_apps.csv&quot;</span><br><span class="line">                                FIELDS TERMINATED BY &apos;,&apos;;</span><br></pre></td></tr></table></figure>
<h4 id="（注：FIELDS-TERMINATED-BY-‘-’-靠‘，’分隔字段，如果没有这个语句date和count（mid）数据会导入到一个格子中）"><a href="#（注：FIELDS-TERMINATED-BY-‘-’-靠‘，’分隔字段，如果没有这个语句date和count（mid）数据会导入到一个格子中）" class="headerlink" title="（注：FIELDS TERMINATED BY ‘,’;  靠‘，’分隔字段，如果没有这个语句date和count（mid）数据会导入到一个格子中）"></a>（注：FIELDS TERMINATED BY ‘,’;  靠‘，’分隔字段，如果没有这个语句date和count（mid）数据会导入到一个格子中）</h4><p>数据库中分组查看结果：<br>每天：<br><img src="https://i.imgur.com/I5AiVNb.png" alt=""><br><br><br>每周：<br><img src="https://i.imgur.com/AP2nlN9.png" alt=""></p>
<p><br></p>
<h3 id="利用plot-ly进行数据可视化"><a href="#利用plot-ly进行数据可视化" class="headerlink" title="利用plot.ly进行数据可视化"></a>利用plot.ly进行数据可视化</h3><p>每天的发送邮件统计：<br><img src="https://i.imgur.com/WyfxjD7.png" alt=""><br>每周的发送邮件统计：<br><img src="https://i.imgur.com/SYfhV9r.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/15/sjycl/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wzs63">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/image/01.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/15/sjycl/" itemprop="url">利用Python从json数据集提取出the Growlers的所有音乐的歌名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-15T20:10:42+08:00">
                2018-11-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据处理/" itemprop="url" rel="index">
                    <span itemprop="name">数据处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>json数据集下载地址：<br><a href="http://itunes.apple.com/search?term=the-growlers" target="_blank" rel="noopener">http://itunes.apple.com/search?term=the-growlers</a> </p>
<h2 id="提取歌名并放入MySQL数据库中"><a href="#提取歌名并放入MySQL数据库中" class="headerlink" title="提取歌名并放入MySQL数据库中"></a>提取歌名并放入MySQL数据库中</h2><p>先在MySQL数据库中创建相应数据库和表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> create database yvchuli                    </span><br><span class="line">                               </span><br><span class="line">create table music(</span><br><span class="line">       </span><br><span class="line">       trackName varchar(60)</span><br><span class="line">       )</span><br></pre></td></tr></table></figure>
<p>利用Python提取数据集中的歌名，并连接MySQL数据库，存入数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import json </span><br><span class="line">import pymysql.cursors</span><br><span class="line">#连接mysql数据库</span><br><span class="line">connection = pymysql.Connect(host=&apos;localhost&apos;,</span><br><span class="line">                             port=3306,</span><br><span class="line">                             user=&apos;root&apos;,</span><br><span class="line">                             password=&apos;123456&apos;,</span><br><span class="line">                             db=&apos;yvchuli&apos;,</span><br><span class="line">                             charset=&apos;utf8&apos;)</span><br><span class="line">with open(&apos;1.txt&apos;) as f:</span><br><span class="line">    date = json.load(f)</span><br><span class="line">list = date[&quot;results&quot;]</span><br><span class="line"># 获取游标</span><br><span class="line">cursor = connection.cursor()</span><br><span class="line">for item in list:</span><br><span class="line"></span><br><span class="line">    #插入数据</span><br><span class="line">    sql = &quot;INSERT INTO music VALUES (\&quot;%s\&quot;)&quot;</span><br><span class="line">    data = item[&apos;trackName&apos;]</span><br><span class="line">    print(data)</span><br><span class="line">    cursor.execute(sql % data)</span><br><span class="line">    connection.commit()</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h3 id="MySQL数据库储存结果："><a href="#MySQL数据库储存结果：" class="headerlink" title="MySQL数据库储存结果："></a>MySQL数据库储存结果：</h3><p><img src="https://i.imgur.com/BfXJfrB.png" alt=""></p>
<p><img scr="../images/yvchuli.PNG"></p>
<h2 id="另外，也可以提取数据存放入Excel"><a href="#另外，也可以提取数据存放入Excel" class="headerlink" title="另外，也可以提取数据存放入Excel"></a>另外，也可以提取数据存放入Excel</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import json </span><br><span class="line">import pymysql.cursors</span><br><span class="line">#连接mysql数据库</span><br><span class="line">connection = pymysql.Connect(host=&apos;localhost&apos;,</span><br><span class="line">                             port=3306,</span><br><span class="line">                             user=&apos;root&apos;,</span><br><span class="line">                             password=&apos;123456&apos;,</span><br><span class="line">                             db=&apos;yvchuli&apos;,</span><br><span class="line">                             charset=&apos;utf8&apos;)</span><br><span class="line">with open(&apos;1.txt&apos;) as f:</span><br><span class="line">    date = json.load(f)</span><br><span class="line">list = date[&quot;results&quot;]</span><br><span class="line"># 获取游标</span><br><span class="line">cursor = connection.cursor()</span><br><span class="line">for item in list:</span><br><span class="line"></span><br><span class="line">    #插入数据</span><br><span class="line">    sql = &quot;INSERT INTO music VALUES (\&quot;%s\&quot;)&quot;</span><br><span class="line">    data = item[&apos;trackName&apos;]</span><br><span class="line">    print(data)</span><br><span class="line">    cursor.execute(sql % data)</span><br><span class="line">    connection.commit()</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="注：若不加newline-’’，每行数据都会有空行"><a href="#注：若不加newline-’’，每行数据都会有空行" class="headerlink" title="注：若不加newline=’’，每行数据都会有空行"></a>注：若不加newline=’’，每行数据都会有空行</h3><p><img src="https://i.imgur.com/Z9eNj70.png" alt=""></p>
<p><br></p>
<h3 id="加newline-’’后变正常："><a href="#加newline-’’后变正常：" class="headerlink" title="加newline=’’后变正常："></a>加newline=’’后变正常：</h3><p><img src="https://i.imgur.com/6kKXSK4.png" alt=""><br><br></p>
<p>If newline=’’ is not specified, newlines embedded inside quoted fields will not be interpreted correctly, and on platforms that use \r\n linendings on write an extra \r will be added. It should always be safe to specify newline=’’, since the csv module does its own (universal) newline handling.<br>– python参考手册</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/29/sql/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wzs63">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/image/01.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/sql/" itemprop="url">sql</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T00:06:41+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="title-SQL基础学习简单的总结（一）"><a href="#title-SQL基础学习简单的总结（一）" class="headerlink" title="title:SQL基础学习简单的总结（一）"></a>title:SQL基础学习简单的总结（一）</h2><h1 id="SQL基础学习简单的总结（一）"><a href="#SQL基础学习简单的总结（一）" class="headerlink" title="SQL基础学习简单的总结（一）"></a>SQL基础学习简单的总结（一）</h1><h1 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h1><p>建立一个新数据库：<br><code>create  database  数据库名</code></p>
<p>指定当前数据库：<br><code>database  数据库名</code><br></p>
<p>关闭当前数据库：<br><code>close  database  数据库名</code><br></p>
<p>撤消一个数据库：<br><code>drop  database  数据库名</code></p>
<p><br></p>
<h1 id="基本表"><a href="#基本表" class="headerlink" title="基本表"></a>基本表</h1><h2 id="基本表的定义（CREATE）"><a href="#基本表的定义（CREATE）" class="headerlink" title="基本表的定义（CREATE）"></a>基本表的定义（CREATE）</h2><pre><code>create  table   表名（       
    列名  数据类型  [default  缺省值]  [not null]
    [，列名 数据类型  [default  缺省值]  [not null]] 
                      ……      
    [，primary  key（列名 [，列名] …）]       
    [，foreign  key （列名 [，列名] …） references  表名 （列名 [，列名] …）]       
    [，check（条件）] 
)  
</code></pre><p>例：</p>
<pre><code>create   table   PROF    
     ( PNO    char(10),      
     PNAME  char(20) not null,     
     SAL   int,      
     AGE   int,     
     DNO   char(10),     
     primary key (PNO),     
     foreign key (DNO) references DEPT(DNO),     
     check (SAL &gt; 0))
</code></pre><h2 id="修改基本表定义（ALTER）"><a href="#修改基本表定义（ALTER）" class="headerlink" title="修改基本表定义（ALTER）"></a>修改基本表定义（ALTER）</h2><p>格式： </p>
<pre><code>ALTER TABLE &lt;表名&gt;
      [ ADD &lt;新列名&gt; &lt;数据类型&gt; [ 完整性约束 ]     --增加新列        
      [ DROP &lt;列名、完整性约束名&gt; ]              --删除列      
      [ ALTER COLUMN&lt;列名&gt; &lt;数据类型&gt; ];         --修改列定义 
</code></pre><h2 id="撤消基本表定义（drop）"><a href="#撤消基本表定义（drop）" class="headerlink" title="撤消基本表定义（drop）"></a>撤消基本表定义（drop）</h2><p>格式：</p>
<p><code>drop  table  表名 ［RESTRICT| CASCADE］;</code></p>
<p>RESTRICT：缺省，如果存在依赖该表的对象，则此表不能被删除<br>CASCADE：在删除基本表的同时，相关的依赖对象一起删除 </p>
<p><br></p>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><h2 id="索引的定义"><a href="#索引的定义" class="headerlink" title="索引的定义"></a>索引的定义</h2><p>格式: </p>
<pre><code>create  [unique|distinct]  [cluster]  index  索引名      
on  表名 (列名 [asc|desc]  [ , 列名[asc|desc]]…) 
</code></pre><p>unique|distinct：唯一性索引，不允许表中不同的行在 索引列上取相同值。<br>cluster：聚集索引，表中元组按索引项的值排序并物 理地聚集在一起。一个基本表上只能建一个聚集索引。<br>asc|desc：索引表中索引值的排序次序，缺省为asc。</p>
<h3 id="在最经常查询的列上建立聚簇索引以提高查询效率。-经常更新的列不宜建立聚簇索引。"><a href="#在最经常查询的列上建立聚簇索引以提高查询效率。-经常更新的列不宜建立聚簇索引。" class="headerlink" title="在最经常查询的列上建立聚簇索引以提高查询效率。 经常更新的列不宜建立聚簇索引。"></a>在最经常查询的列上建立聚簇索引以提高查询效率。 经常更新的列不宜建立聚簇索引。</h3><h2 id="索引的删除"><a href="#索引的删除" class="headerlink" title="索引的删除"></a>索引的删除</h2><p>格式：<br><code>drop  index   索引名</code></p>
<p><br></p>
<h1 id="数据查询"><a href="#数据查询" class="headerlink" title="数据查询"></a>数据查询</h1><h2 id="单表查询"><a href="#单表查询" class="headerlink" title="单表查询"></a>单表查询</h2><pre><code>SELECT [ALL|DISTINCT] &lt;目标列表达式&gt; [，&lt;目标列表达式&gt;]     … 
FROM &lt;表名或视图名&gt;[， &lt;表名或视图名&gt; ] … 
[ WHERE &lt;条件表达式&gt; ] 
[ GROUP BY &lt;列名1&gt; [ HAVING &lt;条件表达式&gt; ] ] 
[ ORDER BY &lt;列名2&gt; [ ASC|DESC ] ];
ALL：缺省，显示结果不删除重复行
DISTINCT：显示结果删除重复行
</code></pre><h3 id="更名运算："><a href="#更名运算：" class="headerlink" title="更名运算："></a>更名运算：</h3><p><code>old_name as new_name(as可省略)</code></p>
<h3 id="Like"><a href="#Like" class="headerlink" title="Like"></a>Like</h3><p>四种匹配模式：<br>1、%：表示任意0个或多个字符。可匹配任意类型和长度的字符。<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;k%&#39;</code></p>
<p>2、_： 表示任意单个字符。匹配单个任意字符，它常用来限定表达式的字符长度语句：<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;k_&#39;</code></p>
<p>3、[ ]：表示括号内所列字符中的一个（类似正则表达式）。指定一个字符、字符串或范围，要求所匹配对象为它们中的任一个。<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;[赵钱孙李]小明&#39;</code></p>
<p>4、[^ ] ：表示不在括号所列之内的单个字符。其取值和 [] 相同，但它要求所匹配对象为指定字符以外的任一个字符。<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;[^赵钱孙李]小明&#39;</code></p>
<p>定义转义字符，以去掉特殊字符的特定含义，使其被作为普通字符看待。<br>可用\%去匹配 %，用\＿去匹配＿，用\ \去匹配 \<br><code>LIKE &#39;DB\ Design&#39; ESCAPE &#39;\&#39;</code><br>ESCAPE ‘＼’ 表示“ ＼” 为换码字符</p>
<h3 id="order-by排序"><a href="#order-by排序" class="headerlink" title="order by排序"></a>order by排序</h3><p><code>order by    列名   [asc | desc];</code></p>
<p>可以按一个或多个属性列排序<br>升序：ASC 降序：DESC 缺省值为升序 </p>
<h3 id="聚集函数："><a href="#聚集函数：" class="headerlink" title="聚集函数："></a>聚集函数：</h3><p>计数 COUNT（[DISTINCT|ALL] *） COUNT（[DISTINCT|ALL] &lt;列名&gt;）<br>计算总和 SUM（[DISTINCT|ALL] &lt;列名&gt;）<br>计算平均值 AVG（[DISTINCT|ALL] &lt;列名&gt;）<br>最大值    MAX（[DISTINCT|ALL] &lt;列名&gt;）   &gt;<br>最小值    MIN（[DISTINCT|ALL] &lt;列名<br>例:计算1号课程的学生平均成绩。<br><code>SELECT AVG(Grade)           FROM SC           WHERE Cno= &#39; 1 &#39;;</code></p>
<h3 id="group-by分组"><a href="#group-by分组" class="headerlink" title="group by分组"></a>group by分组</h3><p><code>group by   列名  [having   条件表达式]</code><br>group by将表中的元组按指定一列或多列上的值相等的 原则分组，然后在每一分组上使用聚集函数，得到单一值。<br>having则对分组进行选择，只将聚集函数作用到满足条件的分组上。<br>例：列出所有课程均及格 的学生的平均成绩。     </p>
<pre><code>select SNO，avg(SCORE) 
from SC   
group by SNO  
having min(SCORE) &gt;= 60
</code></pre><h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><h3 id="自然连接："><a href="#自然连接：" class="headerlink" title="自然连接："></a>自然连接：</h3><p>两个表有同名的属性，此属性值相等的元组相连<br>例:</p>
<pre><code>SELECT  S.Sno，Sname，Ssex，Sage，Sdept，Cno，Grade FROM     S，SC 
WHERE  S.Sno = SC.Sno
</code></pre><h3 id="自身连接："><a href="#自身连接：" class="headerlink" title="自身连接："></a>自身连接：</h3><p>一个表与其自己进行连接,需要给表起别名以示区别,由于所有属性名都是同名属性，因此必须使用别名前缀<br>例:查询每一门课的间接先修课（即先修课的先修课）   </p>
<pre><code>SELECT FIRST.Cno，SECOND.Cpno      
FROM Course FIRST，Course SECOND     
WHERE FIRST.Cpno = SECOND.Cno 
</code></pre><h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接:"></a>外连接:</h3><p>自然连接时，可能会有信息因为失配而在结果中丢失，为避免丢失，可以假定往另一个参与连接的表中附加一个取值全为空值的行，失配的行会和空值行匹配，不至于丢失，称之为外连接。<br> 外连接 = 自然连接 + 失配的元组<br>例:查询每个学生及其选修课程的情况 </p>
<pre><code>SELECT Student.Sno，Sname，Ssex，Sage，Sdept，Cno，Grade     
FROM  Student  LEFT OUT JOIN SC ON (Student.Sno=SC.Sno);
</code></pre><h3 id="复合条件连接："><a href="#复合条件连接：" class="headerlink" title="复合条件连接："></a>复合条件连接：</h3><p>WHERE子句中含多个连接条件<br>例：</p>
<pre><code>SELECT S.Sno，Sname，Cname，Grade    
FROM S，SC，Course    /*多表连接*/    
WHERE S.Sno = SC.Sno                     
and SC.Cno = Course.Cno;
</code></pre><h4 id="FROM-S，SC，Course三者做相当于笛卡尔积"><a href="#FROM-S，SC，Course三者做相当于笛卡尔积" class="headerlink" title="FROM S，SC，Course三者做相当于笛卡尔积"></a>FROM S，SC，Course三者做相当于笛卡尔积</h4><h2 id="嵌套查询"><a href="#嵌套查询" class="headerlink" title="嵌套查询"></a>嵌套查询</h2><p>不相关子查询：子查询的查询条件不依赖于父查询，由里向外 逐层处理。即每个子查询在上一级查询处理 之前求解，子查询的结果用于建立其父查询的查找条件。<br>相关子查询：子查询的查询条件依赖于父查询，首先取外层查询中表的第一个元组，根据它与内层查询相关的属性值处理内层查询，若WHERE子句返回值为真，则取此元组放入结果表 然后再取外层表的下一个元组重复这一过程，直至外层表全部检查完为止。（有点像for循环）</p>
<p>不相关例子：<br>查询与“刘晨”在同一个系学习的学生</p>
<pre><code>SELECT Sno，Sname，Sdept      
FROM Student     
WHERE Sdept  IN (SELECT Sdept                    
                 FROM Student                    
                 WHERE Sname= ‘ 刘晨 ’);
</code></pre><p>相关例子：<br>找出每个学生超过他选修课程平均成绩的课程号。  </p>
<pre><code>SELECT Sno,Cno     
FROM SC x     /*更名 as可省略*/
WHERE Grade &gt;=(SELECT AVG(Grade)                            
               FROM  SC y                                    
               WHERE y.Sno=x.Sno);
</code></pre><h3 id="带有ANY（SOME）或ALL谓词的子查询"><a href="#带有ANY（SOME）或ALL谓词的子查询" class="headerlink" title="带有ANY（SOME）或ALL谓词的子查询"></a>带有ANY（SOME）或ALL谓词的子查询</h3><p>ANY：任意一个值<br>ALL：所有值<br>格式为：表达式   比较运算符  ANY|ALL （子查询）<br>例：查询其他系中比计算机科学系所有学生年龄都小 的学生姓名及年龄。 </p>
<pre><code>SELECT Sname，Sage     
FROM S     
WHERE Sage &lt; ALL (SELECT Sage              
                  FROM S              
                  WHERE Sdept= &apos; CS &apos;)        
      AND Sdept &lt;&gt; &apos; CS ’;
</code></pre><h3 id="带有EXISTS谓词的子查询"><a href="#带有EXISTS谓词的子查询" class="headerlink" title="带有EXISTS谓词的子查询"></a>带有EXISTS谓词的子查询</h3><p>例：查询所有选修了1号课程的学生姓名。 </p>
<pre><code>SELECT Sname      
FROM S      
WHERE EXISTS (SELECT *               
              FROM SC             
              WHERE Sno=S.Sno AND Cno= &apos; 1 &apos;);
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/23/hello-world/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wzs63">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/image/01.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/23/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-23T13:05:37+08:00">
                2018-10-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/image/01.png" alt="wzs63">
            
              <p class="site-author-name" itemprop="name">wzs63</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        ﻿<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wzs63</span>

  
</div>


  <div class="powered-by">由  强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash;  v5.1.4</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
