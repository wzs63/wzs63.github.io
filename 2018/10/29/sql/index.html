<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>sql | hello</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="title:SQL����ѧϰ�򵥵��ܽᣨһ��#SQL����ѧϰ�򵥵��ܽᣨһ�� #���ݿ���� ����һ�������ݿ⣺create  database  ���ݿ��� ָ����ǰ���ݿ⣺database  ���ݿ��� �رյ�ǰ���ݿ⣺close  database  ���ݿ��� ����һ�����ݿ⣺drop  database  ���ݿ���  #�">
<meta property="og:type" content="article">
<meta property="og:title" content="sql">
<meta property="og:url" content="http://yoursite.com/2018/10/29/sql/index.html">
<meta property="og:site_name" content="hello">
<meta property="og:description" content="title:SQL����ѧϰ�򵥵��ܽᣨһ��#SQL����ѧϰ�򵥵��ܽᣨһ�� #���ݿ���� ����һ�������ݿ⣺create  database  ���ݿ��� ָ����ǰ���ݿ⣺database  ���ݿ��� �رյ�ǰ���ݿ⣺close  database  ���ݿ��� ����һ�����ݿ⣺drop  database  ���ݿ���  #�">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-10-28T16:07:15.460Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sql">
<meta name="twitter:description" content="title:SQL����ѧϰ�򵥵��ܽᣨһ��#SQL����ѧϰ�򵥵��ܽᣨһ�� #���ݿ���� ����һ�������ݿ⣺create  database  ���ݿ��� ָ����ǰ���ݿ⣺database  ���ݿ��� �رյ�ǰ���ݿ⣺close  database  ���ݿ��� ����һ�����ݿ⣺drop  database  ���ݿ���  #�">
  
    <link rel="alternate" href="/atom.xml" title="hello" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">hello</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-sql" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/29/sql/" class="article-date">
  <time datetime="2018-10-28T16:06:41.000Z" itemprop="datePublished">2018-10-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      sql
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="title-SQL����ѧϰ�򵥵��ܽᣨһ��"><a href="#title-SQL����ѧϰ�򵥵��ܽᣨһ��" class="headerlink" title="title:SQL����ѧϰ�򵥵��ܽᣨһ��"></a>title:SQL����ѧϰ�򵥵��ܽᣨһ��</h2><p>#SQL����ѧϰ�򵥵��ܽᣨһ��</p>
<p>#���ݿ����</p>
<p>����һ�������ݿ⣺<br><code>create  database  ���ݿ���</code></p>
<p>ָ����ǰ���ݿ⣺<br><code>database  ���ݿ���</code><br></p>
<p>�رյ�ǰ���ݿ⣺<br><code>close  database  ���ݿ���</code><br></p>
<p>����һ�����ݿ⣺<br><code>drop  database  ���ݿ���</code></p>
<p><br></p>
<p>#������</p>
<p>##�������Ķ��壨CREATE��<br>    create  table   ������<br>        ����  ��������  [default  ȱʡֵ]  [not null]<br>        [������ ��������  [default  ȱʡֵ]  [not null]]<br>                          ����<br>        [��primary  key������ [������] ����]<br>        [��foreign  key ������ [������] ���� references  ���� ������ [������] ����]<br>        [��check��������]<br>    )  </p>
<p>����</p>
<pre><code>create   table   PROF    
     ( PNO    char(10),      
     PNAME  char(20) not null,     
     SAL   int,      
     AGE   int,     
     DNO   char(10),     
     primary key (PNO),     
     foreign key (DNO) references DEPT(DNO),     
     check (SAL &gt; 0))
</code></pre><p>##�޸Ļ��������壨ALTER��<br>��ʽ�� </p>
<pre><code>ALTER TABLE &lt;����&gt;
      [ ADD &lt;������&gt; &lt;��������&gt; [ ������Լ�� ]     --��������        
      [ DROP &lt;������������Լ����&gt; ]              --ɾ����      
      [ ALTER COLUMN&lt;����&gt; &lt;��������&gt; ]��        --�޸��ж��� 
</code></pre><p>##�������������壨drop��<br>��ʽ��</p>
<p><code>drop  table  ���� ��RESTRICT| CASCADE�ݣ�</code></p>
<p>RESTRICT��ȱʡ��������������ñ��Ķ�����˱����ܱ�ɾ��<br>CASCADE����ɾ����������ͬʱ����ص���������һ��ɾ�� </p>
<p><br></p>
<p>#����</p>
<p>##�����Ķ���<br>��ʽ: </p>
<pre><code>create  [unique|distinct]  [cluster]  index  ������      
on  ���� (���� [asc|desc]  [ , ����[asc|desc]]��) 
</code></pre><p>unique|distinct��Ψһ�����������������в�ͬ������ ��������ȡ��ֵͬ��<br>cluster���ۼ�����������Ԫ�鰴�������ֵ������ ���ؾۼ���һ��һ����������ֻ�ܽ�һ���ۼ�������<br>asc|desc��������������ֵ���������ȱʡΪasc��</p>
<p>###�������ѯ�����Ͻ����۴���������߲�ѯЧ�ʡ� �������µ��в��˽����۴�������</p>
<p>##������ɾ��<br>��ʽ��<br><code>drop  index   ������</code></p>
<p><br></p>
<p>#���ݲ�ѯ</p>
<p>##������ѯ</p>
<pre><code>SELECT [ALL|DISTINCT] &lt;Ŀ���б���ʽ&gt; [��&lt;Ŀ���б���ʽ&gt;]     �� 
FROM &lt;��������ͼ��&gt;[�� &lt;��������ͼ��&gt; ] �� 
[ WHERE &lt;��������ʽ&gt; ] 
[ GROUP BY &lt;����1&gt; [ HAVING &lt;��������ʽ&gt; ] ] 
[ ORDER BY &lt;����2&gt; [ ASC|DESC ] ]��
ALL��ȱʡ����ʾ�����ɾ���ظ���
DISTINCT����ʾ���ɾ���ظ���
</code></pre><p>###�������㣺<br><code>old_name as new_name(as��ʡ��)</code></p>
<p>###Like<br>����ƥ��ģʽ��<br>1��%����ʾ����0�������ַ�����ƥ���������ͺͳ��ȵ��ַ���<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;k%&#39;</code></p>
<p>2��_�� ��ʾ���ⵥ���ַ���ƥ�䵥�������ַ������������޶�����ʽ���ַ�������䣺<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;k_&#39;</code></p>
<p>3��[ ]����ʾ�����������ַ��е�һ���������������ʽ����ָ��һ���ַ����ַ�����Χ��Ҫ����ƥ�����Ϊ�����е���һ����<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;[��Ǯ����]С��&#39;</code></p>
<p>4��[^ ] ����ʾ������������֮�ڵĵ����ַ�����ȡֵ�� [] ��ͬ������Ҫ����ƥ�����Ϊָ���ַ��������һ���ַ���<br><code>SELECT * FROM [user] WHERE u_name LIKE &#39;[^��Ǯ����]С��&#39;</code></p>
<p>����ת���ַ�����ȥ�������ַ����ض����壬ʹ�䱻��Ϊ��ͨ�ַ�������<br>����\%ȥƥ�� %����\��ȥƥ��ߣ���\ \ȥƥ�� \<br><code>LIKE &#39;DB\ Design&#39; ESCAPE &#39;\&#39;</code><br>ESCAPE ���ܡ� ��ʾ�� �ܡ� Ϊ�����ַ�</p>
<p>###order by����<br><code>order by    ����   [asc | desc];</code></p>
<p>���԰�һ����������������<br>����ASC������DESC��ȱʡֵΪ���� </p>
<p>###�ۼ�������<br>���� COUNT��[DISTINCT|ALL] *�� COUNT��[DISTINCT|ALL] &lt;����&gt;��<br>�����ܺ� SUM��[DISTINCT|ALL] &lt;����&gt;��<br>����ƽ��ֵ AVG��[DISTINCT|ALL] &lt;����&gt;��<br>���ֵ    MAX��[DISTINCT|ALL] &lt;����&gt;��   &gt;<br>��Сֵ    MIN��[DISTINCT|ALL] &lt;����<br>��:����1�ſγ̵�ѧ��ƽ���ɼ���<br><code>SELECT AVG(Grade)           FROM SC           WHERE Cno= &#39; 1 &#39;;</code></p>
<p>###group by����<br>group by   ����  [having   ��������ʽ]<br>group by�����е�Ԫ�鰴ָ��һ�л�����ϵ�ֵ��ȵ� ԭ����飬Ȼ����ÿһ������ʹ�þۼ��������õ���һֵ��<br>having��Է������ѡ��ֻ���ۼ��������õ����������ķ����ϡ�<br>�����г����пγ̾����� ��ѧ����ƽ���ɼ���     </p>
<pre><code>select SNO��avg(SCORE) 
from SC   
group by SNO  
having min(SCORE) &gt;= 60
</code></pre><p>##���Ӳ�ѯ </p>
<p>###��Ȼ���ӣ�<br>��������ͬ�������ԣ�������ֵ��ȵ�Ԫ������<br>��:<br>    SELECT  S.Sno��Sname��Ssex��Sage��Sdept��Cno��Grade FROM     S��SC<br>    WHERE  S.Sno = SC.Sno</p>
<p>###�������ӣ�<br>һ���������Լ���������,��Ҫ�����������ʾ����,������������������ͬ�����ԣ���˱���ʹ�ñ���ǰ׺<br>��:��ѯÿһ�ſεļ�����޿Σ������޿ε����޿Σ�   </p>
<pre><code>SELECT FIRST.Cno��SECOND.Cpno      
FROM Course FIRST��Course SECOND     
WHERE FIRST.Cpno = SECOND.Cno 
</code></pre><p>###������:<br>��Ȼ����ʱ�����ܻ�����Ϣ��Ϊʧ����ڽ���ж�ʧ��Ϊ���ⶪʧ�����Լٶ�����һ���������ӵı��и���һ��ȡֵȫΪ��ֵ���У�ʧ����л�Ϳ�ֵ��ƥ�䣬�����ڶ�ʧ����֮Ϊ�����ӡ�<br> ������ = ��Ȼ���� + ʧ���Ԫ��<br>[��]��ѯÿ��ѧ������ѡ�޿γ̵���� </p>
<pre><code>SELECT Student.Sno��Sname��Ssex��Sage��Sdept��Cno��Grade     
FROM  Student  LEFT OUT JOIN SC ON (Student.Sno=SC.Sno)
</code></pre><p>###�����������ӣ�<br>WHERE�Ӿ��к������������<br>����</p>
<pre><code>SELECT S.Sno��Sname��Cname��Grade    
FROM S��SC��Course    /*�������*/    
WHERE S.Sno = SC.Sno                     
and SC.Cno = Course.Cno��
</code></pre><p>####FROM S��SC��Course�������൱�ڵѿ�����    </p>
<p>##Ƕ�ײ�ѯ<br>������Ӳ�ѯ���Ӳ�ѯ�Ĳ�ѯ�����������ڸ���ѯ���������� ��㴦������ÿ���Ӳ�ѯ����һ����ѯ���� ֮ǰ��⣬�Ӳ�ѯ�Ľ�����ڽ����丸��ѯ�Ĳ���������<br>����Ӳ�ѯ���Ӳ�ѯ�Ĳ�ѯ���������ڸ���ѯ������ȡ����ѯ�б��ĵ�һ��Ԫ�飬���������ڲ��ѯ��ص�����ֵ�����ڲ��ѯ����WHERE�Ӿ䷵��ֵΪ�棬��ȡ��Ԫ��������� Ȼ����ȡ��������һ��Ԫ���ظ���һ���̣�ֱ������ȫ�������Ϊֹ�����е���forѭ����</p>
<p>��������ӣ�<br>��ѯ�롰��������ͬһ��ϵѧϰ��ѧ��</p>
<pre><code>SELECT Sno��Sname��Sdept      
FROM Student     
WHERE Sdept  IN (SELECT Sdept                    
                 FROM Student                    
                 WHERE Sname= �� ���� ��);
</code></pre><p>������ӣ�<br>�ҳ�ÿ��ѧ��������ѡ�޿γ�ƽ���ɼ��Ŀγ̺š�  </p>
<pre><code>SELECT Sno,Cno     
FROM SC x     /*���� as��ʡ��*/
WHERE Grade &gt;=(SELECT AVG(Grade)                            
               FROM  SC y                                    
               WHERE y.Sno=x.Sno);
</code></pre><p>###����ANY��SOME����ALLν�ʵ��Ӳ�ѯ<br>ANY������һ��ֵ<br>ALL������ֵ<br>��ʽΪ������ʽ   �Ƚ������  ANY|ALL ���Ӳ�ѯ��<br>������ѯ����ϵ�бȼ������ѧϵ����ѧ�����䶼С ��ѧ�����������䡣 </p>
<pre><code>SELECT Sname��Sage     
FROM S     
WHERE Sage &lt; ALL (SELECT Sage              
                  FROM S              
                  WHERE Sdept= &apos; CS &apos;)        
      AND Sdept &lt;&gt; &apos; CS ��;
</code></pre><p>###����EXISTSν�ʵ��Ӳ�ѯ<br>������ѯ����ѡ����1�ſγ̵�ѧ�������� </p>
<pre><code>SELECT Sname      
FROM S      
WHERE EXISTS (SELECT *               
              FROM SC             
              WHERE Sno=S.Sno AND Cno= &apos; 1 &apos;);
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/29/sql/" data-id="cjnt2itnr00017ov3yvmq9eoc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/10/23/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/10/29/sql/">sql</a>
          </li>
        
          <li>
            <a href="/2018/10/23/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 wzs63<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>